# 网站开发须知的123

## 先简单的有个初步概念，网络是上的一个个网站是个啥

首先，我们要明确，网站的访问是使用HTTP协议（超文本传输协议）进行传输数据到浏览器，然后由浏览器进行解析、运行，才得以是你看到的样子。至于https，也只是基于HTTP协议的一种加密协议，在此不是重点，暂且不提。

在这一点来看，一个网站和QQ用起来没有本质的区别。都是与远程的服务器交换数据，然后由本地的程序进行解析、运行之后展现在用户面前。

------

那么我们访问一个网站，例如 https://www.baidu.com，到底发生了什么呢？

当我们访问百度的时候，首先 我们的设备通过网络，向DNS服务器发送了一个请求，询问 baidu.com 的IP地址是什么。然后浏览器通过这个IP地址和HTTP对应的默认端口80，和百度的服务器取得了联系。当与baidu的主机连上之后，浏览器将uri传递过去，告诉它的主机`我，百度用户，给资源`。百度的主机经过一系列的检查身份，检查请求，检查资源之后，给了你对应的数据，由浏览器解析运行之后，展现在了你的面前。

> #### 什么是服务器？
>
> 为了与服务器程序区分，服务器有时候被叫做主机。服务器就是一台24小时不停机的计算机，你的电脑，手机都可以充当服务器(普通电脑的硬件可能不支持24小时运行，不然会坏)。
>
> #### 什么是DNS服务器？
>
> 提供DNS查询服务的就是DNS服务器。著名的DNS服务器有 8.8.8.8 和 1.1.1.1(有些不合格的网络管理员会通过干扰网关而把它所管理的局域网内的1.1.1.1定向到特定的服务器，譬如我校无线校园网的登陆验证)
>
> #### 什么是DNS服务？
>
> 一种将请求方询问的域名转换为IP地址并回馈的服务
>
> #### 什么是域名？
>
> badiu.com就是一个域名。域名不能带协议头和统一资源标识符(uri)。域名分等级，顶级域名就是类似于 .com，.cn一类的，一级域名就是例如 baidu.com，二级域名例如 ziyuan.baidu.com，以此类推三级，四级域名等等。
>
> 一般来说，购买的都是一级域名。当我们购买了一个域名之后，我们应当拥有它以及它下面所有更低级域名的使用权。
> 例如我购买了`yiban.app`这个一级域名之后，我可以将`ahnu.yiban.app`这个二级域名解析到我们学校易班使用的服务器上，也可以将`yiban.app`解析到我们的服务器上。
>
> #### 什么是IP？
>
> IP分公网IP和私有IP，公网IP是你的计算机在互联网中的唯一身份标识，私有IP则是你的计算机在局域网中的唯一身份标识。
> 任何局域网，都需要有至少一个公网IP才能访问互联网中的其他电脑，原因在此不解释，但可以知道的是，局域网内的用户是公用一个公网IP上网的，为了标识不同的身份，会**临时**约定某个端口绑定到局域网内某台计算机的某个端口。同样的，任何一台主机，都需要至少一个公网IP才能被人访问到。
> 一般来说，普通用户没有专属的公网IP。意味着，你的机子没法直接让互联网中的用户访问到，只能让与自己处于同一局域网下的设备访问。
>
> #### 什么是端口？
>
> 为了某些目的，现代计算机一般有65536个端口，也就是0 ~ 65535。程序可以绑定在某个或者某些端口上进行运作。每个HTTP网络请求都需要本机的IP和一个端口与目标的IP与端口来建立。
> 每个协议都有自己的默认对应的端口，例如HTTP是80，HTTPS是443。你当然可以通过`http://your.domain:8080`来使用HTTP协议访问你的网站，不过这种访问显然对用户没那么友好——他们需要多记住一个端口号。
>
> #### 为什么要用域名解析到IP？
>
> 就像人类记住某个建筑的位置一样，一般来说某某地区某某街道的某某号比起经纬度更容易让人记住。你当然可以使用IP访问对应的主机，但一般人怎么会记得住IP。
>
> #### 什么是uri？
>
> 它的英文是: Uniform Resource Identifier，或URI。是一个用于标识某一互联网资源名称的字符串。
> 例如 `https://yiban.com/article/建站须知一二三/` 中域名后面的玩意：`/article/建站须知一二三/`。
> 要注意 `https://baidu.com`或者`https://baidu.com/`对应的uri都是`/`，别问我为什么，浏览器是这样约定的。

一个形象的比喻:

IP就像经纬度，域名是人类给这个经纬度取的对应的地名。网站则是在这个经纬度上的房子(主机)上某一个特定的门(端口)里的房间，当你进门说`请给我一杯水`(URI)时，房间里的服务者(后端程序)就会视情况来给你一杯水(成功访问到资源)或者不给你并且让你滚(访问被拒绝)。当水被送上来，你看着花里胡哨的杯子(前端页面)，开始愉悦的喝水。

## 如何把网站发布到互联网？

由上可知，我们发布到互联网上至少需要有一个公网IP，最好有一个好记的域名和一台二十四小时都不停机的主机。那么公网IP，个人用户很难自己拿到。我们可以到腾讯云，阿里云之类的主机提供商那里租一台拥有公网IP且可以二十四小时运行的主机。

域名也可以到腾讯云，阿里云上购买，但在他们上面购买需要备案。

有了这些之后，我们就可以把写好的Web程序放到租用的主机上，部署好，绑定到某一端口。然后把域名解析到我们的IP上。 你的网站可以被访问了。

### Github Page

当然，如果你的网站只需要响应用户的对文件的请求，那么Github Page是一个好的选择，它免费，且送你一个`.github.io`的二级域名。并且也支持你使用自定义的域名。

## 如何编写网站/网页？

这类的教程很多，无论你选择开发使用的语言是什么都需要HTML+CSS+JS来让用户看到更漂亮的网站。

个人推荐[w3school](http://www.w3school.com.cn/) 网上也有很多其他的资源。

## 前端/后端是什么？

前端泛指HTML/CSS/JavaScript等文件组成的页面内容。

后端指使用Python，PHP等语言编写的，用户无法看到的逻辑处理部分。

# 前端干点啥

##### 1 网页的基本结构（HTML + CSS）

HTML是一种标记语言，而不是编程语言，最基本是标签是<html>和<body>，CSS是用来定义如何显示HTML元素的。对HTML+CSS很容易入门，但很多人不够深入，举几个例子：<meta> 标签是作什么用的？margin-left与left有什么区别，应该在什么情况下使用？再出个DIV+CSS布局问题：一个宽度不确定的DIV里面放三个水平对齐的DIV，左右两个DIV宽度固定为150px，中间那个DIV充满剩余的宽度。如果这些问题你目前还不知道，对那个布局问题几分钟内不能解决，说明你对HTML+CSS还不够深入。

##### 2 浏览器是怎么展现网页的

不同内核的浏览器对网页的渲染是不一样的，目前浏览器都有客户端调试工具，下图展现一个google首页在IE9下的加载细节。

##### 3 网页的生命周期

不同的web框架下，页面的生命周期会有所不同，大体还是一样：客户端发送GET请求，服务器返回相应页面，客户端完成操作及数据，然后POST给服务器。一定要对数据的传递(前台与后台,页面之间)的细节了然于心。

##### 4 DHTML DOM BOM  Javascript AJAX

这是Web前端开发的重中之中，大多数时候我们都在和他们打交道。说几个注意点：javascript是单线程编程，所谓的javascript异步编程只不过是计划在未来的某个时间上执行相应事件而已；详细了解DOM事件机制；客户端存储（HTML5中增加了localStorage和sessionStorage）；javascript不像服务器端语言那样严谨，调试不是很方便，所以一开始要养成严谨的javascript编辑习惯；javascript很强大很灵活，不要幻想短时间内熟练（更别说精通）它，并写些框架、类库，初始阶段还是先用熟练已成熟的框架（比如jquery）当入门；一定要熟练使用客户端调试工具。

##### 6 服务器端语言开发经验，PS切图技术

Web前端开发介于设计与开发中间，所以两端的东西都得懂点。编辑语言是相通的，之前编写过服务器语言，对学习javascript是十分有益的，从图片转成静态HTML页面，少不了PS切图技术。

##### 5 浏览器的兼容性

由于历史原因 ，浏览器的兼容性一直都折磨web前端工程师的地方，虽然有W3组织，并制定了一些规范，虽然浏览器产商都正在努力改进并接近其规范，但现实网络环境中各种内核、各种版本的浏览器都有一席之地。解决浏览器兼容性靠经验积累，可喜的事这方面资料网上有很多。<http://www.w3help.org/zh-cn/>这是个很好的参考网站。

##### 6 快速学习能力和主动学习意愿

web前端的发展很快，从事这一行业一定要有快速学习能力和主动学习意愿，这样才能适应web产品的要求。在web前端领域没有绝对的是与非,解决一个问题的方法有很多，但我们要找到一个更合适的方法，找到一个更合适的方法需要经验作积累，总之web前端入门容易，想熟练很难，需要更多的主动学习意愿。

##### 7 良好的沟通能力

优秀的前端工程师需要具备良好的沟通能力，因为你的工作与很多人的工作息息相关，比如项目经理、设计师、最终用户、开发工程师，前端工程师位于这几类人的交汇点上，这些角色的要求你都得照顾好，平衡这四类人的需求，拿出一个比较合适的方案。

# 后端干点啥

前面的你也要学下去，才有的商量

![](https://github.com/gov-edu/yiban/blob/master/img/hdgcs.png)

![](K:\gov-edu-yiban\yiban\img\hdgcs.png)

------

# 上手要安装个啥软件

> ### Visual Studio
>
> ### md
>
> ### 搭建本地服务器环境LAMP或LNMP
>
> ### git环境



------

# Stack Overflow 61条"网站开发须知"

很多人在动手开发网站之前都喜欢问，“我需要知道哪些事情?”每个开发者的答案可能都不太相同，通常情况下，你需要把所有人的发言从头到尾读一遍。但是，Stack Overflow 有一个很贴心的设计，它允许在问题下方开设一个wiki区，让所有人共同编辑一个最佳答案。于是，就有了下面这篇文章，一共总结出六个方面共计61条"网站开发须知"。

关于网站开发，这样全面的概述性文章非常少见，因此也就非常有用。大家不妨看看，61件事情中你做到了多少?

## 一、界面和用户体验

　　1.知道各大浏览器执行Web标准的情况，保证你的站点在主要浏览器上都能正常运行。你至少要测试以下引擎：Gecko(用于Firefox)、Webkit(用于Safari、Chrome和一些手机浏览器)、IE(你可以利用微软发布的Application Compatibility VPC Images进行测试)和Opera。同时，不同的操作系统，可能也会影响浏览器如何呈现你的网站。

　　2.除了浏览器，网站还有其他使用方式：手机、屏幕朗读器、搜索引擎等等。你应该知道在这些情况下，你的网站的运行状况。MobiForge提供了手机网站开发的一些相关知识。

　　3.知道如何在基本不影响用户使用的情况下升级网站。通常来说，你必须有版本控制系统(CVS、Subversion、Git等等)和数据备份机制(backup)。

　　4.不要让用户看到那些不友好的出错提示。

　　5.不要直接显示用户的Email地址，至少不要用纯文本显示。

　　6.为你的网站设置一些合理的使用限制，一旦超过门槛值，就自动停止服务。(这也与网站安全相关。)

　　7.知道如何实现网页的渐进式增强(progressive enhancement)。

　　8.用户发出POST请求后，总是将其重导向(redirect)至另外一个网页。

　　9.不要忘记网站的可访问性(accessibility，即残疾人如何使用网站)。对于美国网站来说，有时这是法定要求。WAI-ARIA有一些这方面很好的参考资料。

## 二、安全性

　　1.阅读《OWASP开发指南》，它提供了全面的网站安全指导。

　　2.了解SQL注入(SQL injection)及其预防方法。

　　3.永远不要信任用户提交的数据(cookie也是用户端提交的!)。

　　4.不要明文(plain-text)储存用户的密码，要hash处理后再储存。

　　5.不要对你的用户认证系统太自信，它可能很容易就被攻破，而你事先根本没意识到存在相关漏洞。

　　6.了解如何处理信用卡。

　　7.在登录页面及其他处理敏感信息的页面，使用SSL/HTTPS。

　　8.知道如何对付session劫持(session hijacking)。

　　9.避免"跨站点执行"(cross site scripting，XSS)。

　　10.避免"跨域伪造请求"(cross site request forgeries，XSRF)。

　　11.及时打上补丁，让你的系统始终跟上最新版本。

　　12.确认你的数据库连接信息的安全性。

　　13.跟踪攻击技术的最新发展，以及你使用的平台的最新安全漏洞。

　　14.阅读Google的《浏览器安全手册》。

　　15.阅读《网络软件的黑客手册》。

## 三、性能(Performance)

　　1.只要有可能，就使用缓存(caching)。正确理解和使用HTTP caching与HTML5离线储存。

　　2.优化图片。不要把一个20KB的图片文件，作为重复出现的网页背景图案。

　　3.学习如何用gzip/deflate压缩内容(deflate方式更可取)。

　　4.将多个样式表文件或脚本文件，合为一个文件，这样可以减少浏览器的http请求数，以及减小gzip压缩后的文件总体积。

　　5.浏览Yahoo的Exceptional Performance网站，里面有大量提升前端性能的优秀建议，还有他们的YSlow工具。Google的page speed则是另一个用来分析网页性能的工具。两者都要求安装Firebug。

　　6.如果你的网页用到大量的小体积图片(比如工具栏)，就应该使用CSS Image Sprite，目的是减少http请求数。

　　7.大流量的网站应该考虑将网页对象分散在多个域名(split components across domains)。

　　8.静态内容(比如图片、CSS、JavaScript、以及其他cookie无关的网页内容)都应该放在一个不需要使用cookie的独立域名之上。因为域名之下如果有cookie，那么客户端向该域名发出的每次http请求，都会附上cookie内容。这里的一个好方法就是使用"内容分发网络"(Content Delivery Network，CDN)。

　　9.将浏览器完成网页渲染所需要的http请求数最小化。

　　10.使用Google的Closure Compiler压缩JavaScript文件，YUI Compressor亦可。

　　11.确保网站根目录下有favicon.ico文件，因为即使网页中根本不包括这个文件，浏览器也会自动发出对它的请求。所以如果这个文件不存在，就会产生大量的404错误，消耗光你的服务器的带宽。

## 四、搜索引擎优化

　　1.使用"搜索引擎友好"的URL形式，比如example.com/pages/45-article-title，而不是example.com/index.php?page=45。

　　2.不要使用"点击这里"之类的超级链接，因为这样等于浪费了一个SEO机会，而且降低了"屏幕朗读器"(screen reader)的使用效果。

　　3.创建一个XML sitemap文件，它的缺省位置一般是/sitemap.xml(即放在网站根目录下)。

　　4.当你有多个URL指向同一个内容时，在网页代码中使用。

　　5.使用Google的Webmaster Tools和Yahoo的Site Explorer。

　　6.从一开始就使用Google Analytics(或者开源的访问量分析工具Piwik)。

　　7.知道robots.txt的作用，以及搜索引擎蜘蛛的工作原理。

　　8.将www.example.com的访问请求导向example.com(使用301 Moved Permanently重定向)，或者采用相反的做法，目的是防止Google把它们当做两个网站，分开计算排名。

　　9.知道存在着恶意或行为不正当的网络蜘蛛。

　　10.如果你的网站有非文本的内容(比如视频、音频等等)，你应该参考Google的sitemap扩展协议。

## 五、技术(Technology)

　　1.理解HTTP协议，以及诸如GET、POST、sessions、cookies之类的概念，包括"无状态"(stateless)是什么意思。

　　2.确保你的XHTML/HTML和CSS符合W3C标准，使得它们能够通过检验。这可以使你的网页避免触发浏览器的古怪行为(quirk)，而且使它在"屏幕朗读器"和手机上也能正常工作。

　　3.理解浏览器如何处理JavaScript脚本。

　　4.理解网页上的JavaScript文件、样式表文件和其他资源是如何装载及运行的，考虑它们对页面性能有何影响。在某些情况下，可能应该将脚本文件放置在网页的尾部。

　　5.理解JavaScript沙箱(Javascript sandbox)的工作原理，尤其是如果你打算使用iframe。

　　6.知道JavaScript可能无法使用或被禁用，以及Ajax并不是一定会运行。记住，"不允许脚本运行"(NoScript)正在某些用户中变得流行，手机浏览器对脚本的支持千差万别，而Google索引网页时不运行大部分的脚本文件。

　　7.了解301重定向和302重定向之间的区别(这也是一个SEO相关问题)。

　　8.尽可能多得了解你的部署平台(deployment platform)。

　　9.考虑使用样式表重置(Reset Style Sheet)。

　　10.考虑使用JavaScript框架(比如jQuery、MooTools、Prototype)，它们可以使你不用考虑浏览器之间的差异。

## 六、解决bug

　　1.理解程序员20%的时间用于编码，80%的时间用于维护，根据这一点相应安排时间。

　　2.建立一个有效的错误报告机制。

　　3.建立某些途径或系统，让用户可以与你接触，向你提出建议和批评。

　　4.为将来的维护和客服人员撰写文档，解释清楚系统是怎么运行的。

　　5.经常备份!(并且确保这些备份是有效的。)除了备份机制，你还必须有一个恢复机制。

　　6.使用某种版本控制系统储存你的文件，比如Subversion或Git。

　　7.不要忘记做单元测试(Unit Testing)，Selenium之类的框架会对你有用。